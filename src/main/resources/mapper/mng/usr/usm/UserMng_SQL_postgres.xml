<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="UserDAO">

    <select id="selectUserMngList" parameterType="brew.mng.usr.usm.service.UserVO" resultType="brew.mng.usr.usm.service.UserVO">
        select
            user_sn,
            user_id,
            user_nm,
            nick_nm,
            login_se,
            use_yn,
            auth_cd,
            ROW_NUMBER() OVER(ORDER BY user_sn DESC) AS RNUM
        from brew.brewlogin
        where 1=1
        <if test="authCd != null and authCd != ''">
            and auth_cd = #{authCd}
        </if>
        <if test="searchKeyword != null and searchKeyword != ''">
            and user_id like '%' || #{searchKeyword} || '%'
                or user_nm like '%' || #{searchKeyword} || '%'
                or nick_nm like '%' || #{searchKeyword} || '%'
        </if>
        order by user_sn desc
    </select>

<!--    <select id="selectUserAuthDtls" parameterType="brew.mng.usr.uat.service.UserAuthVO" resultType="brew.mng.usr.uat.service.UserAuthVO">-->
<!--        select-->
<!--            user_sn,-->
<!--            user_id,-->
<!--            user_nm,-->
<!--            nick_nm,-->
<!--            auth_cd-->
<!--        from brew.brewlogin-->
<!--        where 1=1-->
<!--          and user_sn = #{userSn}-->
<!--    </select>-->

</mapper>